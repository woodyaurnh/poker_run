var PokerHand;!function(n){function r(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];for(var a=e(n),u=i(a),o=0,f=t(a,5);o<f.length;o++){var h=f[o],c=l(h);c.value>u.value&&(u=c)}return u}function e(n){var r=[].concat.apply([],n);return r=r.filter(function(n){return!!(h.indexOf(n.rank)>-1&&n.suit)})}function t(n,r){var e=[];if(r>n.length)return e;if(r==n.length)return[n];if(1==r)return n.map(function(n){return[n]});for(var a=0;a<n.length-r;a++)for(var u=n.slice(a,a+1),o=t(n.slice(a+1),r-1),f=0,i=o;f<i.length;f++){var l=i[f];e.push(u.concat(l))}return e}function a(n){for(var r=[],e=0,t=n;e<t.length;e++){var a=t[e],u=h.indexOf(a.rank);r[u]=r[u]||[],r[u].push(a)}return r=r.filter(function(n){return!!n}),r.reverse(),r.sort(function(n,r){return n.length>r.length?-1:n.length<r.length?1:0}),r}function u(n){if(!n[4])return!1;if("ace"==n[0][0].rank&&"5"==n[1][0].rank&&"2"==n[4][0].rank)return n.push(n.shift()),!0;var r=h.indexOf(n[0][0].rank),e=h.indexOf(n[4][0].rank);return r-e==4}function o(n){for(var r=n[0].suit,e=0,t=n;e<t.length;e++){var a=t[e];if(a.suit!=r)return!1}return!0}function f(n,r){for(var e="",t=0,a=n;t<a.length;t++)for(var u=a[t],o=h.indexOf(u[0].rank),f=(o<10?"0":"")+o,i=0;i<u.length;i++)e+=f;return 1e10*r+parseInt(e)}function i(n,r,e){return{cards:n,name:r||"nothing",value:e||0}}function l(n){var r=a(n),e=o(n),t=u(r);return t&&e&&"ace"==r[0][0].rank?i(n,"royal flush",f(r,9)):t&&e?i(n,"straight flush",f(r,8)):4==r[0].length?i(n,"four of a kind",f(r,7)):3==r[0].length&&2==r[1].length?i(n,"full house",f(r,6)):e?i(n,"flush",f(r,5)):t?i(n,"straight",f(r,4)):3==r[0].length?i(n,"three of a kind",f(r,3)):2==r[0].length&&2==r[1].length?i(n,"two pair",f(r,2)):2==r[0].length?i(n,"one pair",f(r,1)):i(n,"high card",f(r,0))}var h=["2","3","4","5","6","7","8","9","10","jack","queen","king","ace"];n.score=r}(PokerHand||(PokerHand={}));var module=module;"object"==typeof module&&"object"==typeof module.exports&&(module.exports=PokerHand);